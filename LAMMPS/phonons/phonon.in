units       metal
dimension   2
boundary    p p p
atom_style  atomic
read_data   graphene_small.data
fix         f2d all enforce2d
pair_style  airebo 3.0 1 1
pair_coeff  * * CH.airebo C
timestep   0.001                 # 0.5 fs → Nyquist = 1/(2Δt)=1000 THz >> 4000 cm⁻¹

fix 2d all enforce2d

# — thermostat to settle at 300 K with low damping —
velocity   all create 500.0 12345 rot yes mom yes
fix        fnvt all nvt temp 500.0 500.0 100.0  # Tdamp = 1 ps
run        100000                    # eq
unfix      fnvt

variable tmax equal 50.0       
variable nfreq equal ceil(v_tmax/0.004)
compute  cv all vacf 1 ${nfreq}
fix      vacfave all ave/time 1 1 ${nfreq} c_cvacf[4] file vacf_8350K.dat mode vector
run      ${nfreq}